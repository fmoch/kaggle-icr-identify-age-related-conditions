# kaggle-icr-identify-age-related-conditions

![header](https://github.com/fmoch/kaggle-icr-identify-age-related-conditions/assets/116940479/0cbdcfbf-cfd0-4516-a446-32c796f483d2)

icr-identify-age-related-conditionsã‚³ãƒ³ãƒšã®ãƒªãƒã‚¸ãƒˆãƒª


- result
	- public: 0.23311
		- rank: 3260/6431
	- private: **0.44548**
		- rank: 983/6431
  <img src="https://github.com/fmoch/kaggle-icr-identify-age-related-conditions/assets/116940479/ecf6361c-973b-4384-be9d-7b493c82aa67" width="70%">

## Overview
### ç«¶æŠ€ã®ç›®çš„
ã“ã®ã‚³ãƒ³ãƒšãƒ†ã‚£ã‚·ãƒ§ãƒ³ã®ç›®çš„ã¯ã€ã‚ã‚‹äººãŒ3ã¤ã®ç—…çŠ¶ã®ã„ãšã‚Œã‹ã‚’æŒã£ã¦ã„ã‚‹ã‹ã©ã†ã‹ã‚’äºˆæ¸¬ã™ã‚‹ã“ã¨ã§ã™ã€‚ã‚ãªãŸã¯ã€ãã®äººãŒ3ã¤ã®åŒ»å­¦çš„çŠ¶æ…‹ã®ã„ãšã‚Œã‹1ã¤ä»¥ä¸Šã‚’æŒã£ã¦ã„ã‚‹ã‹ï¼ˆã‚¯ãƒ©ã‚¹1ï¼‰ã€ã¾ãŸã¯3ã¤ã®åŒ»å­¦çš„çŠ¶æ…‹ã®ã„ãšã‚Œã‚‚æŒã£ã¦ã„ãªã„ã‹ï¼ˆã‚¯ãƒ©ã‚¹0ï¼‰ã‚’äºˆæ¸¬ã™ã‚‹ã‚ˆã†ã«æ±‚ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚ã‚ãªãŸã¯ã€å¥åº·ç‰¹æ€§ã®æ¸¬å®šå€¤ã«åŸºã¥ã„ã¦è¨“ç·´ã•ã‚ŒãŸãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã™ã‚‹ã“ã¨ã«ãªã‚Šã¾ã™ã€‚
ã‚ã‚‹äººãŒã“ã‚Œã‚‰ã®ç—…çŠ¶ã«ã‚ã‚‹ã‹ã©ã†ã‹ã‚’åˆ¤æ–­ã™ã‚‹ã«ã¯ã€æ‚£è€…ã‹ã‚‰æƒ…å ±ã‚’åé›†ã™ã‚‹ãŸã‚ã®é•·ãã¦ä¾µå…¥çš„ãªãƒ—ãƒ­ã‚»ã‚¹ãŒå¿…è¦ã§ã™ã€‚äºˆæ¸¬ãƒ¢ãƒ‡ãƒ«ã‚’ä½¿ãˆã°ã€ç—…çŠ¶ã«é–¢é€£ã™ã‚‹ä¸»è¦ãªç‰¹å¾´ã‚’åé›†ã—ã€ãã®ç‰¹å¾´ã‚’ç¬¦å·åŒ–ã™ã‚‹ã“ã¨ã§ã€ã“ã®ãƒ—ãƒ­ã‚»ã‚¹ã‚’çŸ­ç¸®ã—ã€æ‚£è€…ã®æƒ…å ±ã‚’éå…¬é–‹ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ã‚ãªãŸã®ç ”ç©¶ã¯ã€ç ”ç©¶è€…ãŒç‰¹å®šã®ç‰¹æ€§ã®æ¸¬å®šå€¤ã¨æ½œåœ¨çš„ãªæ‚£è€…ã®çŠ¶æ…‹ã¨ã®é–“ã®é–¢ä¿‚ã‚’ç™ºè¦‹ã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã™ã€‚

### ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆ
å¹´é½¢ã¯å˜ãªã‚‹æ•°å­—ã«éããªã„ã¨è¨€ã‚ã‚Œã¾ã™ãŒã€åŠ é½¢ã«ä¼´ã†å¥åº·ä¸Šã®å•é¡Œã¯å±±ã»ã©ã‚ã‚Šã¾ã™ã€‚å¿ƒè‡“ç—…ã‚„èªçŸ¥ç—‡ã€é›£è´ã‚„é–¢ç¯€ç‚ãªã©ã€åŠ é½¢ã¯å¤šãã®ç—…æ°—ã‚„åˆä½µç—‡ã®å±é™ºå› å­ã¨ãªã‚Šã¾ã™ã€‚ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹ã®æˆé•·åˆ†é‡ã«ã¯ã€ç”Ÿç‰©å­¦çš„è€åŒ–ã‚’é…ã‚‰ã›ãŸã‚Šé€†è»¢ã•ã›ãŸã‚Šã€åŠ é½¢ã«é–¢é€£ã™ã‚‹ä¸»è¦ãªç—…æ°—ã‚’äºˆé˜²ã™ã‚‹ãŸã‚ã®ä»‹å…¥ç­–ã‚’ç ”ç©¶ã™ã‚‹ã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ã¯ã€ãŸã¨ãˆã‚µãƒ³ãƒ—ãƒ«æ•°ãŒå°‘ãªãã¦ã‚‚ã€å¤šæ§˜ãªãƒ‡ãƒ¼ã‚¿ã§å•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã®æ–°ã—ã„æ‰‹æ³•ã‚’é–‹ç™ºã™ã‚‹å½¹å‰²ã‚’æ‹…ã†ã“ã¨ãŒã§ãã¾ã™ã€‚
ç¾åœ¨ã€ç—…çŠ¶äºˆæ¸¬ã«ã¯XGBoostã‚„ãƒ©ãƒ³ãƒ€ãƒ ãƒ•ã‚©ãƒ¬ã‚¹ãƒˆãªã©ã®ãƒ¢ãƒ‡ãƒ«ãŒä½¿ã‚ã‚Œã¦ã„ã¾ã™ãŒã€ãã®æ€§èƒ½ã¯ååˆ†ã¨ã¯è¨€ãˆã¾ã›ã‚“ã€‚äººå‘½ãŒã‹ã‹ã£ãŸé‡å¤§ãªå•é¡Œã‚’æ‰±ã†å ´åˆã€ãƒ¢ãƒ‡ãƒ«ã¯ç•°ãªã‚‹ã‚±ãƒ¼ã‚¹é–“ã§ç¢ºå®Ÿã‹ã¤ä¸€è²«ã—ã¦æ­£ã—ã„äºˆæ¸¬ã‚’è¡Œã†å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
2015å¹´ã«è¨­ç«‹ã•ã‚ŒãŸã‚³ãƒ³ãƒšãƒ†ã‚£ã‚·ãƒ§ãƒ³ãƒ›ã‚¹ãƒˆã®InVitro Cell Research, LLCï¼ˆICRï¼‰ã¯ã€å†ç”ŸåŒ»ç™‚ã¨äºˆé˜²çš„å€‹åˆ¥åŒ–åŒ»ç™‚ã«ç„¦ç‚¹ã‚’å½“ã¦ãŸæ°‘é–“ä¼æ¥­ã§ã‚ã‚‹ã€‚ãƒ‹ãƒ¥ãƒ¼ãƒ¨ãƒ¼ã‚¯ã®å¤§åœ°ã«ã‚ã‚‹å½¼ã‚‰ã®ã‚ªãƒ•ã‚£ã‚¹ã¨ãƒ©ãƒœã¯ã€æœ€å…ˆç«¯ã®ç ”ç©¶ã‚¹ãƒšãƒ¼ã‚¹ã‚’æä¾›ã—ã¦ã„ã¾ã™ã€‚ã‚¤ãƒ³ãƒ“ãƒˆãƒ­ãƒ»ã‚»ãƒ«ãƒ»ãƒªã‚µãƒ¼ãƒã®ã‚µã‚¤ã‚¨ãƒ³ãƒ†ã‚£ã‚¹ãƒˆã¯ã€è€åŒ–ã—ãŸäººã‚’æ—©ãä¿®å¾©ã™ã‚‹æ–¹æ³•ã‚’ç ”ç©¶ã™ã‚‹ã¨ã„ã†å½¼ã‚‰ã®ãƒŸãƒƒã‚·ãƒ§ãƒ³ã‚’å°ãã€å®šç¾©ã™ã‚‹ã“ã¨ã§ã€å½¼ã‚‰ã‚’éš›ç«‹ãŸã›ã¦ã„ã¾ã™ã€‚
ã“ã®ã‚³ãƒ³ãƒšãƒ†ã‚£ã‚·ãƒ§ãƒ³ã§ã¯ã€ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹ã«ãŠã‘ã‚‹é‡è¦ãªå•é¡Œã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã€å¥åº·çŠ¶æ…‹ã®ç‰¹å¾´çš„ãªãƒ‡ãƒ¼ã‚¿ã®æ¸¬å®šã«å–ã‚Šçµ„ã¿ã¾ã™ã€‚æœ€å°é™ã®ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã§ã€ã‚ã‚‹äººãŒ3ã¤ã®ç—…çŠ¶ã®ã„ãšã‚Œã‹ã«è©²å½“ã™ã‚‹ã‹ã©ã†ã‹ã‚’äºˆæ¸¬ã™ã‚‹ãƒ¢ãƒ‡ãƒ«ã‚’ä½œæˆã—ã€æ—¢å­˜ã®æ–¹æ³•ã‚’æ”¹å–„ã™ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚
æˆé•·è‘—ã—ã„ãƒã‚¤ã‚ªã‚¤ãƒ³ãƒ•ã‚©ãƒãƒ†ã‚£ã‚¯ã‚¹åˆ†é‡ã®ç™ºå±•ã«è²¢çŒ®ã—ã€å¤šæ§˜ãªãƒ‡ãƒ¼ã‚¿ã§è¤‡é›‘ãªå•é¡Œã‚’è§£æ±ºã™ã‚‹æ–°ã—ã„æ‰‹æ³•ã‚’æ¢æ±‚ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚


### Submit
æå‡ºã•ã‚ŒãŸä½œå“ã¯ã€**ãƒãƒ©ãƒ³ã‚¹ã®ã¨ã‚ŒãŸå¯¾æ•°æå¤±**ã‚’ç”¨ã„ã¦è©•ä¾¡ã•ã‚Œã¾ã™ã€‚å…¨ä½“çš„ãªåŠ¹æœã¯ã€å„ã‚¯ãƒ©ã‚¹ãŒæœ€çµ‚çš„ãªã‚¹ã‚³ã‚¢ã«å¯¾ã—ã¦ã»ã¼ç­‰ã—ãé‡è¦ã§ã‚ã‚‹ã‚ˆã†ãªã‚‚ã®ã§ã‚ã‚‹ã€‚
**å„è¦³æ¸¬ã¯ã‚¯ãƒ©ã‚¹0ã‹ã‚¯ãƒ©ã‚¹1ã®ã„ãšã‚Œã‹**ã§ã‚ã‚‹ã€‚å„è¦³æ¸¬ã«ã¤ã„ã¦ã€å„ã‚¯ãƒ©ã‚¹ã®ç¢ºç‡ã‚’æå‡ºã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãã®æ™‚ã®è¨ˆç®—å¼ã¯


$Log Loss= \frac{-\frac{1}{ğ‘_0}\sum_{i=1}^{N_0}\log{ğ‘_{0ğ‘–}}âˆ’\frac{1}{ğ‘_1}\sum_{i=1}^{N_1}\log{ğ‘_{1ğ‘–}}}{2}$


ã“ã“ã§ã€`(N_{c})`ã¯ã‚¯ãƒ©ã‚¹(c)ã®ã‚ªãƒ–ã‚¶ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³æ•°ã€((\log))ã¯è‡ªç„¶å¯¾æ•°ã€(y_{c i})ã¯ã‚ªãƒ–ã‚¶ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³(i)ãŒã‚¯ãƒ©ã‚¹(c)ã«å±ã—ã¦ã„ã‚Œã°1ã€ãã‚Œä»¥å¤–ã¯0ã€(p_{c i})ã¯ã‚ªãƒ–ã‚¶ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³(i)ãŒã‚¯ãƒ©ã‚¹(c)ã«å±ã—ã¦ã„ã‚‹ã¨ã„ã†äºˆæƒ³ç¢ºç‡ã§ã™ã€‚
ä¸ãˆã‚‰ã‚ŒãŸè¡Œã®æå‡ºã•ã‚ŒãŸç¢ºç‡ã¯ã€ã‚¹ã‚³ã‚¢ãƒªãƒ³ã‚°ã•ã‚Œã‚‹å‰ã«å†ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã•ã‚Œã‚‹ãŸã‚ã€åˆè¨ˆãŒ1ã«ãªã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ï¼ˆå„è¡Œã¯è¡Œã®åˆè¨ˆã§å‰²ã‚‰ã‚Œã¾ã™ï¼‰ã€‚å¯¾æ•°é–¢æ•°ã®æ¥µå€¤ã‚’é¿ã‘ã‚‹ãŸã‚ã€å„äºˆæ¸¬ç¢ºç‡ã¯ã€max(min(Ïƒ))ã¯ max(min(áµ…,1-10-15),10-15) ã«ç½®ãæ›ãˆã‚‰ã‚Œã‚‹ã€‚
- æå‡ºãƒ•ã‚¡ã‚¤ãƒ«
ãƒ†ã‚¹ãƒˆã‚»ãƒƒãƒˆã®å„IDã«ã¤ã„ã¦ã€2ã¤ã®ã‚¯ãƒ©ã‚¹ã®ãã‚Œãã‚Œã®ç¢ºç‡ã‚’äºˆæ¸¬ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã¯ãƒ˜ãƒƒãƒ€ã‚’å«ã¿ã€ä»¥ä¸‹ã®å½¢å¼ã§ãªã‘ã‚Œã°ãªã‚‰ãªã„ï¼š
```
ID,class_0,class_1
00eed32682bb,0.5,0.5
010ebe33f668,0.5,0.5
02fa521e1838,0.5,0.5
040e15f562a2,0.5,0.5
046e85c7cc7f,0.5,0.5
```

## Timeline
- 2023å¹´5æœˆ11æ—¥ - é–‹å§‹æ—¥
- 2023å¹´8æœˆ3æ—¥ -ã‚¨ãƒ³ãƒˆãƒªãƒ¼ç· åˆ‡ã€‚å‡ºå ´ã™ã‚‹ã«ã¯ã€ã“ã®æ—¥ã¾ã§ã«ç«¶æŠ€è¦å‰‡ã«åŒæ„ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚
- 2023å¹´8æœˆ3æ—¥ - ãƒãƒ¼ãƒ åˆä½µã®ç· åˆ‡æ—¥ã€‚ã“ã®æ—¥ãŒã€å‚åŠ è€…ãŒãƒãƒ¼ãƒ ã«å‚åŠ ã—ãŸã‚Šåˆä½µã—ãŸã‚Šã§ãã‚‹æœ€å¾Œã®æ—¥ã§ã™
- 2023å¹´8æœˆ10æ—¥ - æœ€çµ‚æå‡ºç· åˆ‡æ—¥ã€‚

## Data
ç«¶æŠ€ãƒ‡ãƒ¼ã‚¿ã¯ã€3ã¤ã®å¹´é½¢é–¢é€£ç–¾æ‚£ã«é–¢é€£ã™ã‚‹50ä»¥ä¸Šã®åŒ¿ååŒ–ã•ã‚ŒãŸå¥åº·ç‰¹æ€§ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ã€‚ç›®æ¨™ã¯ã€è¢«é¨“è€…ãŒã“ã‚Œã‚‰ã®ç–¾æ‚£ã®ã„ãšã‚Œã‹ã«ç½¹ã£ã¦ã„ã‚‹ã‹ã„ãªã„ã‹ã‚’äºˆæ¸¬ã™ã‚‹ã“ã¨ã§ã‚ã‚‹ï¼ˆäºŒå€¤åˆ†é¡å•é¡Œï¼‰ã€‚

ãªãŠã€ã“ã‚Œã¯ã‚³ãƒ¼ãƒ‰ã‚³ãƒ³ãƒšãƒ†ã‚£ã‚·ãƒ§ãƒ³ã§ã‚ã‚Šã€å®Ÿéš›ã®ãƒ†ã‚¹ãƒˆã‚»ãƒƒãƒˆã¯éš ã•ã‚Œã¦ã„ã‚‹ã€‚ã“ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ã¯ã€è§£ç­”ã‚’ä½œæˆã™ã‚‹ã®ã«å½¹ç«‹ã¤ã‚ˆã†ã«ã€æ­£ã—ã„å½¢å¼ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã‚’ã„ãã¤ã‹æä¾›ã—ã¾ã™ã€‚ã‚ãªãŸã®æå‡ºç‰©ãŒæ¡ç‚¹ã•ã‚Œã‚‹ã¨ãã€ã“ã®ã‚µãƒ³ãƒ—ãƒ«ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿ã¯ãƒ•ãƒ«ãƒ†ã‚¹ãƒˆã‚»ãƒƒãƒˆã«ç½®ãæ›ãˆã‚‰ã‚Œã¾ã™ã€‚å®Œå…¨ãªãƒ†ã‚¹ãƒˆã‚»ãƒƒãƒˆã«ã¯ã€ç´„400è¡ŒãŒã‚ã‚Šã¾ã™ã€‚

- **train.csv**Â - The training set.
- **test.csv**Â - The test set. 
- **greeks.csv** - è£œè¶³çš„ãªãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ã€‚ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚»ãƒƒãƒˆã§ã®ã¿åˆ©ç”¨å¯èƒ½ã€‚
- **sample_submission.csv**

### train.csv 
|ã‚«ãƒ©ãƒ å|èª¬æ˜|
|----|---- |
|id| å„ã‚ªãƒ–ã‚¶ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸€æ„ãªè­˜åˆ¥å­|
|AB-GL|56å€‹ã®åŒ¿ååŒ–ã•ã‚ŒãŸå¥åº·ç‰¹æ€§ã€‚EJã¯ã‚«ãƒ†ã‚´ãƒªãƒ¼ã§ã‚ã‚‹ãŒã€ãã‚Œä»¥å¤–ã¯ã™ã¹ã¦æ•°å€¤ã§ã‚ã‚‹ã€‚|
|class|ãƒã‚¤ãƒŠãƒªã‚¿ãƒ¼ã‚²ãƒƒãƒˆï¼š1ã¯ã€è¢«é¨“è€…ãŒ3ã¤ã®æ¡ä»¶ã®ã†ã¡ã®1ã¤ã¨è¨ºæ–­ã•ã‚ŒãŸã“ã¨ã‚’ç¤ºã—ã€0ã¯ã€è¨ºæ–­ã•ã‚Œã¦ã„ãªã„ã“ã¨ã‚’ç¤ºã™|


### greek.csv
|ã‚«ãƒ©ãƒ å|èª¬æ˜|
|----|---- |
|Alpha|å¹´é½¢ã«é–¢é€£ã™ã‚‹çŠ¶æ…‹ãŒã‚ã‚‹å ´åˆã€ãã®ç¨®é¡ã‚’ç‰¹å®šã™ã‚‹ã€‚|
|A|å¹´é½¢ã«é–¢é€£ã—ãŸçŠ¶æ…‹ã¯ãªã„ã€‚ã‚¯ãƒ©ã‚¹0ã«å¯¾å¿œã™ã‚‹ã€‚|
|B, D, G|3ã¤ã®åŠ é½¢ã«é–¢é€£ã—ãŸçŠ¶æ…‹ã€‚ã‚¯ãƒ©ã‚¹ 1 ã«å¯¾å¿œã™ã‚‹ã€‚|
|Beta, Gamma, Delta|3ã¤ã®å®Ÿé¨“ç‰¹æ€§ã‚’ç¤ºã™ã€‚|
|Epsilon|ã“ã®è¢«é¨“è€…ã®ãƒ‡ãƒ¼ã‚¿ãŒåé›†ã•ã‚ŒãŸæ—¥ä»˜ã€‚ãªãŠã€ãƒ†ã‚¹ãƒˆã‚»ãƒƒãƒˆã®ãƒ‡ãƒ¼ã‚¿ã¯ã™ã¹ã¦ãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°ã‚»ãƒƒãƒˆãŒåé›†ã•ã‚ŒãŸå¾Œã«åé›†ã•ã‚ŒãŸã‚‚ã®ã§ã‚ã‚‹ã€‚|



## å‚è€ƒ
|notebook|èª¬æ˜|
|---|---|
|[ICR IARC EDA Ensemble and Stacking baseline](https://www.kaggle.com/code/tetsutani/icr-iarc-eda-ensemble-and-stacking-baseline)|ãƒ™ãƒ¼ã‚¹ãƒ©ã‚¤ãƒ³ï¼ˆä»®ï¼‰|
|[ICR - EDA & Balanced Learning with LGBM & XGB](https://www.kaggle.com/code/mateuszk013/icr-eda-balanced-learning-with-lgbm-xgb)|EDAå‚è€ƒ|
|[icr-identify-age](https://www.kaggle.com/code/vadimkamaev/icr-identify-age)|Tabpfnã‚’ç”¨ã„ãŸãƒãƒ¼ãƒˆ, LBä¸Šä½ (0.11)ã¯ã“ã®TabPFNä½¿ç”¨ã—ã¦ã„ã‚‹|

## NOTE
### nb
|notebook|CV|PV|èª¬æ˜|
|---|---|---|---|
|kg-nb_ICR_001|0.13968 Â± 0.08848|0.28|[ICR IARC EDA_Ensemble and Stacking baseline](https://www.kaggle.com/code/tetsutani/icr-iarc-eda-ensemble-and-stacking-baseline) ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä½œæˆ|
|kg-nb_ICR_002|56.3||001ãƒ™ãƒ¼ã‚¹ã€ä¸­èº«ã®èª¬æ˜è¿½åŠ |

### EXP
|notebook|CV|PV|èª¬æ˜|
|---|---|---|---|
|kg-nb_ICR_exp_001||0.23|kg-nb_ICR_001ã‚’ãƒ™ãƒ¼ã‚¹ã«ã€EDAç”¨ã®ãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ä½œæˆ|
|kg-nb_ICR_exp_002|-|-|é£›ã³ç•ªå·|
|kg-nb_ICR_exp_003|0.18385 Â± 0.06902|0.40|001ãƒ™ãƒ¼ã‚¹ã€drop columnå¤‰æ›´, EDAå‰Šé™¤|
|kg-nb_ICR_exp_004|||[icr-identify-age](https://www.kaggle.com/code/vadimkamaev/icr-identify-age) ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ä½œæˆ, |
|kg-nb_ICR_exp_005_ver1|||003ãƒ™ãƒ¼ã‚¹, `drop_cols` =['BC', 'CL','BZ','DV']|
|kg-nb_ICR_exp_005_ver2||| `drop_cols` =['BC', 'CL','BZ','DV','AR]|
|kg-nb_ICR_exp_005_ver3|||ver2ã®è¨­å®šã®ã¾ã¾early_stopping_rounds = 1000 -> 10000,Early_stoppingã«ä¼´ã†ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒƒãƒˆã‚’æ¤œè¨¼
|
early_stopping_rounds = 100000|

## LOG
### 20230527ÃŸ
- Join!
	- é¡Œæã¨ã—ã¦ã¯å¥åº·çŠ¶æ…‹ã‚’ã€ã„ãã¤ã‹ã®æŒ‡æ¨™ã‚’ç”¨ã„ã¦ï¼’å€¤åˆ†é¡ã™ã‚‹ãƒ†ãƒ¼ãƒ–ãƒ«ã‚³ãƒ³ãƒšã€‚
	- ãƒ‡ãƒ¼ã‚¿è‡ªè‡ªä½“ã¯å¤šããªã„

### 20230529
- [ICR IARC EDA| Ensemble and Stacking baseline](https://www.kaggle.com/code/tetsutani/icr-iarc-eda-ensemble-and-stacking-baseline) ã‚’å‚è€ƒã«kg-nb-ICR-001ã‚’ä½œæˆ
- ä¸­èº«ã®ç¢ºèªã€åŸºæœ¬çš„ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ãªæµã‚Œ
	- ãƒ¢ãƒ‡ãƒ«ä½œæˆ
	- ã‚¹ã‚¿ãƒƒã‚­ãƒ³ã‚°

### 20230530
- kg-nbICR-001
	- æ¬ æå€¤ã‚’å¯è¦–åŒ–ã€åŸºæœ¬çš„ã«ã¯æ¬ æã¯ãªã•ãã†ã ãŒã€BQã¨ELã¯60ç¨‹åº¦ã®æ¬ æå€¤ãŒã‚ã‚‹

### 20230601
- kg-nbICR-001
	- ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«ã¾ã§å†™çµŒ
	- Opunutaã‚’ç”¨ã„ã¦ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿æœ€é©åŒ–ã‚’è¡Œã£ã¦ã„ã‚‹ãŒã€ä¸€æ—¦ã“ã®éƒ¨åˆ†ã¯å¾Œå›ã—
- ä»¥ä¸‹æœ¬ãƒ¢ãƒ‡ãƒ«ãªã„ã§ä½¿ç”¨ã—ã¦ã„ã‚‹ãƒ™ãƒ¼ã‚¹ãƒ¢ãƒ‡ãƒ«
- XGBoost
    - CPUã¾ãŸã¯GPUã‚’å¼•æ•°ã§æŒ‡å®šå¯èƒ½
- LightGBM
    - Modelã¨ã—ã¦ã¯3ã¤ã®ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿é•ã„ã‚’è¨­å®šã—ã¦ã„ã‚‹
- CatBoost
- HistGradientBoosting
> 	- GradientBoostingTreeã¯ãƒ’ã‚¹ãƒˆã‚°ãƒ©ãƒ ãƒ™ãƒ¼ã‚¹ã®å‹¾é…ãƒ–ãƒ¼ã‚¹ãƒ†ã‚£ãƒ³ã‚°åˆ†é¡ãƒ„ãƒªãƒ¼ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã§ã™ã€‚ã“ã®å®Ÿè£…ã¯Microsoftã®LightGBMã«åŸºã¥ã„ã¦ãŠã‚Šã€ä¸¦åˆ—åŒ–ã«OpenMPã‚’åˆ©ç”¨ã—ã¦ã„ã¾ã™ã€‚
> 	- å¤§ããªãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆï¼ˆn_samples> = 10000ï¼‰ã®å ´åˆã¯GradientBoostingClassifierã‚ˆã‚Šã‚‚ã¯ã‚‹ã‹ã«é«˜é€Ÿã§ã™ã€‚
> 	- ã“ã®æ¨å®šå™¨ã¯ã€æ¬ æ¸¬å€¤ï¼ˆNaNï¼‰ã§ã‚‚å­¦ç¿’ã§ãã¾ã™ã€‚Scikit-Learnã®v0.21.1ä»¥é™ã§ã¯ã€HistGradientBoostingã‚’åˆ©ç”¨ã§ãã¾ã™ã€‚

### 20230605
- EDAç”¨ã«`kg-nb_ICR_001`ã‚’ãƒ™ãƒ¼ã‚¹ã«`kg-nb_ICR_exp_001`ã‚’ä½œæˆ
- Discussã«ã¦CVã¨PBã‚¹ã‚³ã‚¢ã®ç›¸é–¢ã‚’é›†è¨ˆã—ã¦ã„ãŸ
	-ã€€
- æ¬ æå€¤ã«é–¢ã—ã¦ä»¥ä¸‹Dã§è¿°ã¹ã‚‰ã‚Œã¦ã„ã‚‹
	- [Do not worry about data points with missing values](https://www.kaggle.com/competitions/icr-identify-age-related-conditions/discussion/410843)
	- t-SNEã‚’ç”¨ã„ã¦1ã¨0ã‚’æ¬¡å…ƒå‰Šæ¸›ã—ã¦2æ¬¡å…ƒä¸Šã«ãƒ—ãƒ­ãƒƒãƒˆã—ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã€lgbã§ã®äºˆæ¸¬çµæœã‚’ã‚‚ã¨ã«ã—ãŸçµ¶å¯¾èª¤å·®ã‚’è‰²ä»˜ã‘
	- æ¬ æå€¤ã ã‘ã‚’æŠ½å‡ºã—ã¦çµ¶å¯¾èª¤å·®ã‚’è¦‹ã‚‹ã¨ã€ä»–ã®å€¤ã¨å¤§å·®ãªã„ -> æ¬ æå€¤ãã“ã¾ã§å½±éŸ¿ãªã—
	- ã“ã®äººã¯å¹³å‡å€¤ã§æ¬ æè£œå®Œã—ã¦ã„ã‚‹ãŒã€ä¸­å¤®å€¤ã®ã»ã†ãŒè‰¯ã„ã‹ã‚‚ã—ã‚Œãªã„

### 20230606
- ãƒ­ãƒ¼ã‚«ãƒ«ã§â€kg-nbICR-001â€ã‚’å®Ÿè¡Œã—ãŸã¨ã“ã‚HistGradientBoostingClassifierã®å¼•æ•°ã§ã‚¨ãƒ©ãƒ¼
	- class_weight=balanced ã«å¯¾å¿œã—ã¦ã„ãªã„ -> sklearnã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆã§è§£æ¶ˆ

### 20230607
- `kg-nb_ICR_exp_001`  -> `n_splits=4` `n_reapts=3`
	- 1st : 0.19868 Â± 0.06894
	- 2nd : 0.19868 Â± 0.06894
	- 3rd : 0.19868 Â± 0.06894

### 20230609
- `kg-nb_ICR_exp_001` -> `kg-nb_ICR_exp_003`
- ã‚‚ã¨ã‚‚ã¨`BC` ã¨ `CL` ãã‚Œãã‚Œæœ‰ç„¡ã§ã®CVç¢ºèª
- ãã‚‚ãã‚‚å„ç‰¹å¾´é‡ã®ç›¸é–¢ã‚’è¦‹ãŸå ´åˆã€ã¨ãªã£ã¦ãŠã‚Šã€BCåŠã³CLã¯ç‰¹å¾´é‡å‰Šæ¸›ã‚’è¡Œã£ãŸã»ã†ãŒè‰¯ã„ã¨ã„ã†è€ƒãˆ
	- **`BZ`Â vsÂ `BC`Â (0.91)**
	- **`DV`Â vsÂ `CL` (0.95)** 
	- **`EH` vs `FD` (0.97)**
- random_state_listsã‚’7å€‹ã«ã™ã‚‹ã¨CL,BCé™¤ã„ãŸãƒ‡ãƒ¼ã‚¿ã®å„ªä½æ€§ã‚ã‚Š
|drop column|n_reapts=3_CV|n_reapts=7_CV|
|----|----|---|
|CL, BC|0.19868 Â± 0.06894|**0.18587 Â± 0.07086**|
|CL|0.18195 Â± 0.07915 |0.19023 Â± 0.07402|
|BC|0.18252 Â± 0.07493|0.19101 Â± 0.07822|
|None|0.19250 Â± 0.07822|0.19023 Â± 0.07402|

### 20230610
#### [ICR - EDA & Balanced Learning with LGBM & XGB](https://www.kaggle.com/code/mateuszk013/icr-eda-balanced-learning-with-lgbm-xgb) ã‚’å‚è€ƒã«EDA
- ä¸Šè¨˜ã§ã‚‚æ›¸ã„ã¦ã„ã‚‹ãŒã¾ãšã¯ç‹é“ã«å„ç‰¹å¾´é‡ã®ç›¸é–¢ã‚’ç¢ºèª
- KDEï¼ˆã‚«ãƒ¼ãƒãƒ«å¯†åº¦åˆ†å¸ƒï¼‰ã§ã¯æ­£è¦åˆ†å¸ƒçš„ãªåºƒãŒã‚Šã‚’è¦‹ã›ã¦ã„ã‚‹ã‹ã€è£¾ãŒé•·ã„ã‹ï¼ˆLongTail)ã‹ã‚’ç¢ºèªã€€-> ç‰¹å¾´é‡ã”ã¨ã§ç•°ãªã‚‹
	- ä¸Šè¨˜ã®åˆ†å¸ƒã«å¯¾ã—ã¦ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°æ–¹æ³•ã‚’æ¤œè¨ã™ã‚‹ã«å½“ãŸã£ã¦ä»¥ä¸‹ã€ã‚¹ã‚±ãƒ¼ãƒ©ãƒ¼ã”ã¨ã«æ­£è¦åˆ†å¸ƒåº¦ã‚’æ¯”è¼ƒã—ã¦ã„ã‚‹ï¼ˆç›´ç·šçš„ãªå³ä¸ŠãŒã‚Šã«ãªã‚Œã°ãªã‚‹ã»ã©ï½æ­£è¦åˆ†å¸ƒã«å¾“ã£ã¦ã„ã‚‹
		-  **Log Transformation**Â - generally works fine with right-skewed data. Requires non-negative numbers.
		-   **Square Root Transformation**Â - similarly to log-level transformation. Requires non-negative numbers.
		-   **Square Transformation**Â - helps to reduce left-skewed data.
		-   **Reciprocal Transformation**Â - used sometimes, when data is skewed, or there are obvious outliers. Not defined at zero.
		-   **Box-Cox Transformation**Â - used when data is skewed or has outliers. Requires strictly positive numbers.
		-   **Yeo-Johnson Transformation**Â -variation of Box-Cox transformation, but without restrictions concerning numbers.
	 - çµæœã¨ã—ã¦ã¯  **Yeo-Johnson Transformation**Â ãŒæœ€ã‚‚é©ã—ã¦ã„ã‚‹ç‰¹å¾´é‡ãŒå¤šã„
~~~
Tree Based modelã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã‚’æ°—ã«ã™ã‚‹å¿…è¦ã¯ã™ããªã„ãŒã€
SVMãªã©ã‚’ç”¨ã„ã‚‹å ´åˆã¯å¿…è¦ã€ä»Šå¾ŒTree modelä»¥å¤–ã‚’ä½¿ç”¨ã™ã‚‹å ´åˆã¯å‚è€ƒã«ã™ã‚‹
~~~

- ç‰¹å¾´é‡ã®ä¸­ã§ã†ã¾ã„ã“ã¨ã‚¹ã‚±ãƒ¼ãƒªãƒ³ã‚°ã§ããªã„ã‚„ã¤ã®ä¸­èº«ã‚’ç¢ºèª
	-  `AR`, `BZ`, `DV` 
		- ã»ã¨ã‚“ã©åŒã˜å€¤ã‹ã¤ã€å¤§ããªå¤–ã‚Œå€¤ãŒã‚ã‚‹
		- ä»–ã®ã„ãã¤ã‹ã®ç‰¹å¾´é‡ã¨ç›¸é–¢ãŒã‚ã‚‹ -> å‰Šé™¤ã™ã‚‹ã“ã¨ã‚‚ã‚ã‚Šï¼Ÿ
	 - `AY`, `DF`ã€€ã«é–¢ã—ã¦ã‚‚åŒæ§˜ã ã‘ã©ä»–ã®ç‰¹å¾´é‡ã¨ã®ç›¸é–¢ãŒè–„ã„ -> å‰Šé™¤ã¯å¾®å¦™
	 - `AR`, `BZ`, `DV` å‰Šé™¤ã—ãŸä¸Šã§CVã‚’æ¯”è¼ƒã™ã‚‹ã¨`BZ`, `DV`ãã‚Œãã‚Œå˜ä½“ã§å‰Šé™¤ã™ã‚‹ã¨CVã®å‘ä¸ŠãŒè¦‹ã‚‰ã‚ŒãŸ

|drop column|n_reapts=7_CV|n_reapts=10_CV|
|----|----|----|
|CL, BC, AR, BZ, DV|0.18666 Â± 0.07729||
|CL, BC, BZ, DV|0.18137 Â± 0.07311|0.18625 Â± 0.06379|
|CL, BC, AR|0.18292 Â± 0.07210||
|CL, BC, BZ|0.17243 Â± 0.07241|0.18326 Â± 0.06861|
|CL, BC, DV|0.17438 Â± 0.07019||

- ä»¥ä¸‹ã€ç‰¹å¾´é‡ã¨Classã®ãƒ”ã‚¢ã‚½ãƒ³ç›¸é–¢ä¿‚æ•°
~~~
ã“ã‚Œã‚‰ã¯Cassã¨ã®ç›¸é–¢ãŒå°ã•ã„ãŸã‚Binalizationã™ã‚‹ã®ã‚‚æœ‰åŠ¹
~~~

|drop column|n_reapts=3_CV|
|----|----|
|AH|	 +0.045|
|AR|	 +0.064|
|AY|	 +0.082|
|BC|	 +0.156|
|BZ|	 +0.112|
|CL|	 +0.017|
|DF|	 +0.064|
|DV|	 +0.015|
|EP|	 -0.068|
|GE|     -0.071|
|Class|	 +1.000|

- t-SNEã‚’ç”¨ã„ãŸã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã‚‚å®Ÿæ–½ã—ã¦ã„ã‚‹
	- `Class=1`ã¯2DåŠã³3Dã§ã¿ã¦ã‚‚ãã‚Œãã‚Œã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã‚’å½¢æˆã—ã¦ã„ã‚‹
	  -> ä½•ã‹ã—ã‚‰ã‚¹ãƒˆãƒ¼ãƒªã¯ã‚ã‚‹ã¯ãš
- Dropã™ã‚‹åˆ—ã§Forå›ã™é–¢æ•°ã‚’ä½œæˆã™ã‚Œã°æ—ã‚Šãã†â€¦

####  [icr-identify-age](https://www.kaggle.com/code/vadimkamaev/icr-identify-age)ã‚’èª­ã¿è§£ã
- Tabpfnã‚’ç”¨ã„ãŸãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯_ã‚³ãƒ¼ãƒ‰è‡ªä½“ã¯ã‚·ãƒ³ãƒ—ãƒ«
	- ç¾æ™‚ç‚¹ä¸Šä½é™£ã¯ã»ã¨ã‚“ã©ç”¨ã„ã¦ã„ã‚‹
> - `SimpleImputer()` 
> - missing_valuesï¼šç½®ãæ›ãˆã‚‹å€¤
> - strategyï¼šçµ±è¨ˆå€¤ã®ç¨®é¡ï¼šãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯å¹³å‡å€¤
-   fill_valueï¼šstrategyãŒconstantã«ãªã£ã¦ã„ã‚‹å ´åˆã«ã€æ•´æ•°ã‚„æ–‡å­—åˆ—ã‚’æŒ‡å®šã—ã¦ç½®ãæ›ãˆã‚‹ã¾ãšã¯å¹³å‡å€¤ã‚’è¨­å®šã—ã¦æ¬ æå€¤ã®ç½®ãæ›ãˆã‚’è¡Œã£ã¦ã„ãã¾ã™ã€‚

### 20230612
- `kg-nb_ICR_exp_003` ã‚µãƒ–
	- CVï¼š0.18385 Â± 0.06902
	- LBï¼š0.40
		- `drop_cols` =['BC', 'CL','BZ']
		- `kfold` = 'skf'
		- `n_splits` = 4
		- `n_reapts` = 20
		- `random_state` = 71
		- `n_estimators` = 99999
		- `early_stopping_rounds` = 1000
		- `verbose` = False
		- `device` = 'cpu'
	 - LBã¯æ‚ªåŒ–ã—ã¦ã„ã‚‹ãŒã€ã‚ˆã‚Šæ±åŒ–ã—ãŸã¨è€ƒãˆã‚‹ã¹ãï¼Ÿï¼Ÿ
	 - å°‘é‡ãƒ‡ãƒ¼ã‚¿éãã¦é€†ã«é›£ã—ã„

### 20230613
-  `kg-nb_ICR_exp_003`  -> `kg-nb_ICR_exp_005`
	- `drop_cols` =['BC', 'CL','BZ','DV']

-ã€€[Binary classification VS multi label(using Alpha in greeks)](https://www.kaggle.com/competitions/icr-identify-age-related-conditions/discussion/413287)
	- ãƒãƒ«ãƒãƒ©ãƒ™ãƒ«åˆ†é¡ã‹äºŒé …åˆ†é¡ã©ã¡ã‚‰ãŒå„ªã‚Œã¦ã„ã‚‹ã‹->äºŒé …åˆ†é¡
	- Greeksã‚’ç”¨ã„ã‚‹ã¨æ¦‚ã­ã‚¹ã‚³ã‚¢ã‚¢ãƒƒãƒ—ãŒæœŸå¾…ã§ãã‚‹ãŒã€AlphaãŒã‚ªãƒ¼ãƒãƒ¼ãƒ•ã‚£ãƒƒãƒˆã‚’å‚¬ã™ã‹ã‚‚

- [lightgbmã§äºŒå€¤åˆ†é¡ã®ä¸€é€£ã®æµã‚Œã‚’ã—ãŸãƒ¡ãƒ¢](https://qiita.com/d_desuyon/items/807e01311ad08570ee78)
	- å‚è€ƒã«Lightgbmã§ã®binary classifierå®Ÿè£…æŠŠæ¡

### 20230614
-  `kg-nb_ICR_exp_005` ver2
	- `drop_cols` =['BC', 'CL','BZ','DV','AR]
- Versionã§ç®¡ç†ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸ

-  Robust Validationã«é–¢ã™ã‚‹å†…å®¹ã®Note
	- https://www.kaggle.com/competitions/icr-identify-age-related-conditions/discussion/412911

### 202030617
- `kg-nb_ICR_exp_005_ver3`
	- ä»¥ä¸‹ãƒãƒ¼ãƒˆå‚è€ƒã«ãƒ¢ãƒ‡ãƒ«å¤‰æ›´
		- https://www.kaggle.com/competitions/icr-identify-age-related-conditions/discussion/417838
	- ver2ã®è¨­å®šã®ã¾ã¾early_stopping_rounds = 1000 -> 10000,
	- Early_stoppingã«ä¼´ã†ã‚ªãƒ¼ãƒãƒ¼ãƒ•ãƒƒãƒˆã‚’æ¤œè¨¼
### 20230625
- è«¸ã€…å–ã‚Šçµ„ã‚“ã§ã„ã‚‹ãŒã€ãƒ‡ãƒ¼ã‚¿æ•°ã®å°‘ãªã•ãŒã‚†ãˆã«ãªã‚“ã¨ã‚‚ã‚„ã‚Šã¥ã‚‰ã„
	- ä¸€æ—¦æœ¬ã‚³ãƒ³ãƒšã‚’ãŠã„ã¦ãŠã„ã¦PyTorchã®å‹‰å¼·ã‚’è¡Œã†ã“ã¨ã«ã™ã‚‹ï¼ˆPyTorchå®Ÿè·µå…¥é–€ï¼‰

### 2023811
- PyTorchå®Ÿè·µå…¥é–€ ç¬¬ï¼‘ç« ãŒçµ‚ã‚ã‚‹é ƒã€ã‚³ãƒ³ãƒšã‚‚æœŸé™ãŒè¨ªã‚ŒãŸ
- çµæœã¨ã—ã¦ä»¥ä¸‹NBã§æå‡ºã€‚
- ![model_last](https://github.com/fmoch/kaggle-icr-identify-age-related-conditions/assets/116940479/f616daee-9d60-49f2-aaf4-b24a07124641)
- å®ãã˜æ„ŸãŒå¼·ã„ã‚³ãƒ³ãƒšã ã£ãŸã¨ã„ã†å°è±¡ã€‚ã€‚
